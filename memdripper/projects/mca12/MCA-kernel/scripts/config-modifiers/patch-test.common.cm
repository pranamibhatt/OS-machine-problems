#!/bin/sh

scripts/setconfig.py -f - <<_EOF_
CONFIG_CRAMFS=y
CONFIG_SNSC_CRAMFS_LZO=y
CONFIG_SNSC_CRAMFS_LZ77=y
CONFIG_LZ77_INFLATE=y
CONFIG_LZO_DECOMPRESS=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_AXFS=y
CONFIG_AXFS_PROFILING=y
CONFIG_SNSC_DEBUG_AXFS=y
CONFIG_SNSC_FIRST_MOUNT_AXFS_AS_ROOTFS=y
CONFIG_SNSC_DEBUG_AXFS_XIP_RECORDS_NUM=500
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_DEBUG_PROFILE=y
CONFIG_SNSC_DEBUG_PROFILE_RECORDS_NUM=256
CONFIG_SNSC_DEBUG_PROFILE_RINGBUFF=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_DEBUG_PROFILE_HEAP=y
CONFIG_SNSC_DEBUG_PROFILE_HEAP_RECORDS_NUM=7000
CONFIG_SNSC_DEBUG_PROFILE_HEAP_RINGBUFF=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_PAGES_ACCOUNTING=y
CONFIG_SNSC_PAGES_ACCOUNTING_DEBUG=n
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_SCHED_CLOCK_TEST=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_DEBUG_FS=y
CONFIG_USB_GADGET_DEBUG_FS=y
CONFIG_MARKERS=y
CONFIG_SAMPLES=y
CONFIG_SAMPLE_MARKERS=n
CONFIG_INSTRUMENTATION=y
CONFIG_LTT=y
CONFIG_LTT_TIMESTAMP=y
CONFIG_LTT_SYNTHETIC_TSC=y
CONFIG_LTT_RELAY=y
CONFIG_LTT_SERIALIZE=y
CONFIG_LTT_MARKER_CONTROL=y
CONFIG_LTT_TRACER=y
CONFIG_LTT_ALIGNMENT=y
CONFIG_LTT_VMCORE=y
CONFIG_LTT_HEARTBEAT=n
CONFIG_LTT_SCHED_CLOCK_TIMESTAMP=y
CONFIG_LTT_NETLINK_CONTROL=m
CONFIG_LTT_STATEDUMP=m
CONFIG_LTT_PROBE_FS=m
_EOF_

# plftest for LTTng requires IPv6.
scripts/setconfig.py -f - <<_EOF_
CONFIG_IPV6=y
CONFIG_IPV6_MIP6=n
CONFIG_IPV6_MULTIPLE_TABLES=n
CONFIG_IPV6_OPTIMISTIC_DAD=n
CONFIG_IPV6_PRIVACY=n
CONFIG_IPV6_ROUTER_PREF=n
CONFIG_IPV6_SIT=y
CONFIG_IPV6_TUNNEL=n
CONFIG_INET6_AH=n
CONFIG_INET6_ESP=n
CONFIG_INET6_IPCOMP=n
CONFIG_INET6_XFRM_MODE_BEET=y
CONFIG_INET6_XFRM_MODE_ROUTEOPTIMIZATION=n
CONFIG_INET6_XFRM_MODE_TRANSPORT=y
CONFIG_INET6_XFRM_MODE_TUNNEL=y
CONFIG_XFRM=y
CONFIG_XFRM_MIGRATE=n
CONFIG_XFRM_SUB_POLICY=n
CONFIG_XFRM_USER=n
CONFIG_INET_TUNNEL=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_KINSPECT=n
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_OPROFILE=m
CONFIG_PROFILING=y
CONFIG_INSTRUMENTATION=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_SNSC_IRQ_LATENCY=y
CONFIG_SNSC_LATENCY_NUM=20
CONFIG_SNSC_LATENCY_UNIQUIFIED=y
CONFIG_SNSC_PREEMPTION_LATENCY=y
CONFIG_DEBUG_PREEMPT=y
_EOF_

scripts/setconfig.py -f - <<_EOF_
CONFIG_DEBUG_STACK_USAGE=y
CONFIG_SNSC_POISON_FREED_INIT_PAGES=y
 _EOF_

# plftest for NBL requries these.
scripts/setconfig.py -f - <<_EOF_
CONFIG_BLK_DEV_INITRD=y
CONFIG_INITRAMFS_SOURCE=""
CONFIG_SNSC_INITRD_MNTPT="/initrd"
CONFIG_SNSC_ROOTDEV_AFTER_INITRD=n
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=4096
CONFIG_BLK_DEV_RAM_BLOCKSIZE=1024
CONFIG_EXT2_FS=y
CONFIG_EXT2_FS_XIP=n
CONFIG_EXT2_FS_XATTR=y
CONFIG_EXT2_FS_POSIX_ACL=y
CONFIG_EXT2_FS_SECURITY=y
_EOF_
